<template>
  <div class="saved-section">
    <div v-for="post in posts" :key="post.id" class="post-card">
      <div class="post-header">
        <span class="category-badge">{{ post.category }}</span>
        <span class="author">{{ post.author }}</span>
      </div>
      <h3 class="post-title">{{ post.title }}</h3>
      <p class="post-preview">{{ post.content }}</p>
      <div class="post-stats">
        <span>ğŸ‘ï¸ {{ post.views }}</span>
        <span>ğŸ’¬ {{ post.comments }}</span>
      </div>
      <div class="post-actions">
        <button class="btn-detail" type="button" @click="emit('action', { type: 'detail', post })">
          ìƒì„¸ë³´ê¸°
        </button>
        <button class="btn-unsave" type="button" @click="emit('action', { type: 'unsave', post })">
          ì €ì¥ ì·¨ì†Œ
        </button>
      </div>
    </div>

    <div v-if="posts.length === 0" class="empty-state">
      <p>ì €ì¥í•œ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤</p>
    </div>
  </div>
</template>

<script setup lang="ts">
import type { SavedActionPayload, SavedPost } from '@/views/posts/constants'

defineProps<{ posts: SavedPost[] }>()

const emit = defineEmits<{ (e: 'action', payload: SavedActionPayload): void }>()
</script>
