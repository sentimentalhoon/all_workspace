<script setup lang="ts">
import { ref } from 'vue'

const stats = ref({
  totalReports: 1247,
  pcRooms: 89,
  activeUsers: 3542,
})

const recentReports = ref([
  {
    id: 1,
    type: 'ìš•ì„¤/í­ì–¸',
    region: 'ì„œìš¸',
    pcRoom: 'ê°•ë‚¨ê²Œì„ì¡´',
    time: '10ë¶„ ì „',
    severity: 'high',
  },
  {
    id: 2,
    type: 'ë¯¸ê²°ì œ',
    region: 'ê²½ê¸°',
    pcRoom: 'ìˆ˜ì›PCí´ëŸ½',
    time: '1ì‹œê°„ ì „',
    severity: 'critical',
  },
  {
    id: 3,
    type: 'ë¶ˆê²°',
    region: 'ì¸ì²œ',
    pcRoom: 'ë¶€í‰ê²Œì„íƒ€ìš´',
    time: '2ì‹œê°„ ì „',
    severity: 'medium',
  },
])

const hotPosts = ref([
  {
    id: 1,
    title: 'ìš”ì¦˜ í”¼ì”¨ë°© ë¬¼ê°€ ë„ˆë¬´ ì˜¤ë¥¸ê±° ì•„ë‹˜?',
    comments: 45,
    likes: 23,
  },
  {
    id: 2,
    title: 'ê°•ë‚¨ ê·¼ì²˜ ê´œì°®ì€ í”¼ì”¨ë°© ì¶”ì²œí•´ì£¼ì„¸ìš”',
    comments: 32,
    likes: 18,
  },
  {
    id: 3,
    title: 'í”¼ì”¨ë°© ì•Œë°” 10ë…„ì°¨ê°€ ì•Œë ¤ì£¼ëŠ” ê¿€íŒ',
    comments: 67,
    likes: 89,
  },
])
</script>

<template>
  <main class="home">
    <section class="welcome-section">
      <div class="welcome-card">
        <h2>ğŸ® PSMO ì»¤ë®¤ë‹ˆí‹°</h2>
        <p>ì„±ì¸ ê²Œì„ í”¼ì”¨ë°© ì •ë³´ ê³µìœ  & ì§„ìƒ ê³ ê° ë“±ë¡</p>
      </div>
    </section>

    <section class="stats-section">
      <div class="stat-card">
        <div class="stat-number">{{ stats.totalReports.toLocaleString() }}</div>
        <div class="stat-label">ì§„ìƒ ë“±ë¡</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">{{ stats.pcRooms }}</div>
        <div class="stat-label">í”¼ì”¨ë°©</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">{{ stats.activeUsers.toLocaleString() }}</div>
        <div class="stat-label">í™œì„± ìœ ì €</div>
      </div>
    </section>

    <section class="quick-links">
      <RouterLink to="/report" class="quick-link danger">
        <span class="link-icon">âš ï¸</span>
        <span class="link-text">ì§„ìƒ ë“±ë¡í•˜ê¸°</span>
        <span class="link-arrow">â€º</span>
      </RouterLink>
      <RouterLink to="/board" class="quick-link primary">
        <span class="link-icon">ğŸ’¬</span>
        <span class="link-text">ê²Œì‹œíŒ ë³´ê¸°</span>
        <span class="link-arrow">â€º</span>
      </RouterLink>
    </section>

    <section class="recent-section">
      <div class="section-header">
        <h3>âš ï¸ ìµœê·¼ ë“±ë¡ëœ ì§„ìƒ</h3>
        <RouterLink to="/report" class="view-more">ë”ë³´ê¸° â€º</RouterLink>
      </div>
      <div class="report-list">
        <div v-for="report in recentReports" :key="report.id" class="report-item">
          <div class="report-main">
            <span class="report-type">{{ report.type }}</span>
            <span class="report-location">ğŸ“ {{ report.region }} {{ report.pcRoom }}</span>
          </div>
          <div class="report-meta">
            <span :class="['severity-badge', `severity-${report.severity}`]">
              {{
                report.severity === 'critical'
                  ? 'ë§¤ìš°ì‹¬ê°'
                  : report.severity === 'high'
                    ? 'ì‹¬ê°'
                    : 'ë³´í†µ'
              }}
            </span>
            <span class="report-time">{{ report.time }}</span>
          </div>
        </div>
      </div>
    </section>

    <section class="hot-section">
      <div class="section-header">
        <h3>ğŸ”¥ ì¸ê¸° ê²Œì‹œê¸€</h3>
        <RouterLink to="/board" class="view-more">ë”ë³´ê¸° â€º</RouterLink>
      </div>
      <div class="post-list">
        <div v-for="post in hotPosts" :key="post.id" class="post-item">
          <div class="post-title">{{ post.title }}</div>
          <div class="post-stats">
            <span>ğŸ’¬ {{ post.comments }}</span>
            <span>â¤ï¸ {{ post.likes }}</span>
          </div>
        </div>
      </div>
    </section>

    <section class="features-section">
      <div class="feature-card">
        <div class="icon">ğŸ–¥ï¸</div>
        <h3>í”¼ì”¨ë°© ì •ë³´</h3>
        <p>ì „êµ­ í”¼ì”¨ë°© ì •ë³´ì™€ ë¦¬ë·°ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
      </div>

      <div class="feature-card">
        <div class="icon">ğŸ®</div>
        <h3>ê²Œì„ í† í¬</h3>
        <p>ë‹¤ì–‘í•œ ê²Œì„ì— ëŒ€í•´ ì´ì•¼ê¸° ë‚˜ëˆ ë³´ì„¸ìš”</p>
      </div>

      <div class="feature-card">
        <div class="icon">ğŸ’¡</div>
        <h3>íŒ & ë…¸í•˜ìš°</h3>
        <p>í”¼ì”¨ë°© ì´ìš© íŒê³¼ ê²Œì„ ë…¸í•˜ìš° ê³µìœ </p>
      </div>
    </section>
  </main>
</template>

<style scoped>
.home {
  flex: 1;
  padding-bottom: 2rem;
}

.welcome-section {
  padding: 1rem;
}

.welcome-card {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 12px;
  padding: 2rem 1.5rem;
  text-align: center;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.welcome-card h2 {
  margin: 0;
  font-size: 1.5rem;
  color: white;
}

.welcome-card p {
  margin: 0.5rem 0 0 0;
  color: rgba(255, 255, 255, 0.9);
  font-size: 0.9rem;
}

.stats-section {
  padding: 1rem;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0.75rem;
}

.stat-card {
  background: white;
  border-radius: 12px;
  padding: 1.25rem 0.75rem;
  text-align: center;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.stat-number {
  font-size: 1.5rem;
  font-weight: 700;
  color: #667eea;
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.8rem;
  color: #666;
}

.quick-links {
  padding: 0 1rem;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.75rem;
  margin-bottom: 1rem;
}

.quick-link {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem;
  border-radius: 12px;
  text-decoration: none;
  font-weight: 600;
  font-size: 0.9rem;
  transition: all 0.2s;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.quick-link.danger {
  background: #dc3545;
  color: white;
}

.quick-link.danger:hover {
  background: #c82333;
  transform: translateY(-2px);
}

.quick-link.primary {
  background: #667eea;
  color: white;
}

.quick-link.primary:hover {
  background: #5568d3;
  transform: translateY(-2px);
}

.link-icon {
  font-size: 1.25rem;
}

.link-text {
  flex: 1;
  margin-left: 0.5rem;
}

.link-arrow {
  font-size: 1.25rem;
}

.recent-section,
.hot-section {
  padding: 0 1rem;
  margin-bottom: 1.5rem;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.section-header h3 {
  margin: 0;
  font-size: 1.1rem;
  color: #2d3748;
}

.view-more {
  font-size: 0.85rem;
  color: #667eea;
  text-decoration: none;
  font-weight: 600;
}

.report-list,
.post-list {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.report-item {
  padding: 1rem;
  border-bottom: 1px solid #f0f0f0;
}

.report-item:last-child {
  border-bottom: none;
}

.report-main {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  margin-bottom: 0.5rem;
}

.report-type {
  font-weight: 600;
  color: #dc3545;
  font-size: 0.9rem;
}

.report-location {
  font-size: 0.85rem;
  color: #666;
}

.report-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.severity-badge {
  padding: 0.25rem 0.5rem;
  border-radius: 8px;
  font-size: 0.7rem;
  font-weight: 600;
  color: white;
}

.severity-critical {
  background: #dc3545;
}

.severity-high {
  background: #fd7e14;
}

.severity-medium {
  background: #ffc107;
}

.report-time {
  font-size: 0.75rem;
  color: #999;
}

.post-item {
  padding: 1rem;
  border-bottom: 1px solid #f0f0f0;
  cursor: pointer;
  transition: background 0.2s;
}

.post-item:last-child {
  border-bottom: none;
}

.post-item:hover {
  background: #f8f9fa;
}

.post-title {
  font-size: 0.9rem;
  color: #2d3748;
  margin-bottom: 0.5rem;
  font-weight: 500;
}

.post-stats {
  display: flex;
  gap: 1rem;
  font-size: 0.8rem;
  color: #999;
}

.features-section {
  padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.feature-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  transition:
    transform 0.2s,
    box-shadow 0.2s;
}

.feature-card:active {
  transform: scale(0.98);
}

.icon {
  font-size: 2.5rem;
  margin-bottom: 0.5rem;
}

.feature-card h3 {
  margin: 0 0 0.5rem 0;
  font-size: 1.1rem;
  color: #2d3748;
}

.feature-card p {
  margin: 0;
  font-size: 0.9rem;
  color: #7f8c8d;
  line-height: 1.5;
}
</style>
