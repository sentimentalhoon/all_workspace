<template>
  <div class="search-view">
    <div class="page-header">
      <h2>ğŸ” ê²Œì‹œê¸€ ê²€ìƒ‰</h2>
    </div>

    <div class="search-container">
      <SearchBox v-model="searchQuery" @search="handleSearch" />

      <FilterSection title="ì¹´í…Œê³ ë¦¬">
        <CategoryChips v-model="selectedCategory" :categories="categories" />
      </FilterSection>

      <FilterSection title="ì •ë ¬">
        <SortButtons v-model="selectedSort" :options="sortOptions" />
      </FilterSection>

      <FilterSection title="ê¸°ê°„">
        <DateRangeInputs v-model:from="dateFrom" v-model:to="dateTo" />
      </FilterSection>

      <SearchActions @search="handleSearch" @reset="resetFilters" />
    </div>
  </div>
</template>

<script setup lang="ts">
/**
 * @fileoverview ê²Œì‹œê¸€ ê²€ìƒ‰ í˜ì´ì§€. í•„í„° ì¡°í•©ê³¼ ê²€ìƒ‰ ì•¡ì…˜ì„ êµ¬ì„±í•©ë‹ˆë‹¤.
 */
import CategoryChips from '@/views/search/components/CategoryChips.vue'
import DateRangeInputs from '@/views/search/components/DateRangeInputs.vue'
import FilterSection from '@/views/search/components/FilterSection.vue'
import SearchActions from '@/views/search/components/SearchActions.vue'
import SearchBox from '@/views/search/components/SearchBox.vue'
import SortButtons from '@/views/search/components/SortButtons.vue'
import { useSearchFilters } from '@/views/search/composables/useSearchFilters'

/**
 * ê²€ìƒ‰ ì§ˆì˜, ì¹´í…Œê³ ë¦¬, ê¸°ê°„ í•„í„° ë“± ì‚¬ìš©ì ì…ë ¥ ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
 * @see useSearchFilters
 */
const {
  searchQuery,
  selectedCategory,
  selectedSort,
  dateFrom,
  dateTo,
  categories,
  sortOptions,
  handleSearch,
  resetFilters,
} = useSearchFilters()
</script>

<style src="@/views/search/styles/search-view.css"></style>
